<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Build - PC Components</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Lucide Icons for aesthetic icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
        }
        /* Custom neon effect for accents */
        .neon-text {
            color: #4ade80; /* Tailwind green-400 */
            text-shadow: 0 0 5px rgba(74, 222, 128, 0.5), 0 0 10px rgba(74, 222, 128, 0.4);
        }
        .neon-button {
            transition: all 0.3s ease;
        }
        .neon-button:hover {
            box-shadow: 0 0 10px #4ade80, 0 0 20px #4ade80;
            transform: translateY(-2px);
        }
        /* Smooth scroll behavior */
        html {
            scroll-behavior: smooth;
        }
        /* Style for selected component row */
        .selected-component {
            border: 2px solid #4ade80; /* green-400 */
        }
        /* Compatibility Alert Style */
        .compatibility-alert {
            animation: pulse-red 2s infinite;
        }
        @keyframes pulse-red {
            0%, 100% { box-shadow: 0 0 0 0 rgba(248, 113, 113, 0.7); }
            50% { box-shadow: 0 0 0 10px rgba(248, 113, 113, 0); }
        }
        .compatibility-ok {
            animation: pulse-green 2s infinite;
        }
        @keyframes pulse-green {
            0%, 100% { box-shadow: 0 0 0 0 rgba(74, 222, 128, 0.7); }
            50% { box-shadow: 0 0 0 10px rgba(74, 222, 128, 0); }
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 antialiased">

    <!-- Off-Canvas Menu Drawer (Hidden by default) -->
    <div id="menu-drawer" class="fixed top-0 left-0 w-64 h-full bg-gray-950 z-[100] transform -translate-x-full transition-transform duration-300 shadow-2xl p-6">
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-2xl font-bold neon-text">Menu</h2>
            <button id="close-menu-button" class="p-1 rounded-full hover:bg-gray-800">
                <i data-lucide="x" class="w-6 h-6 text-gray-400"></i>
            </button>
        </div>
        
        <nav class="space-y-4">
            <h3 class="text-sm uppercase tracking-wider text-gray-500 mb-2">User Actions</h3>
            
            <!-- Wishlist -->
            <a href="#" class="flex items-center p-3 rounded-lg hover:bg-gray-800 transition duration-200">
                <i data-lucide="heart" class="w-5 h-5 mr-3 text-red-400"></i>
                <span class="font-medium">Wishlist</span>
            </a>
            
            <!-- Orders -->
            <a href="#" class="flex items-center p-3 rounded-lg hover:bg-gray-800 transition duration-200">
                <i data-lucide="package" class="w-5 h-5 mr-3 text-indigo-400"></i>
                <span class="font-medium">Your Orders</span>
            </a>
            
            <div class="border-t border-gray-800 my-4"></div>

            <h3 class="text-sm uppercase tracking-wider text-gray-500 mb-2">Shop & Tools</h3>

            <!-- Shop All Components -->
            <a href="#featured-products" class="flex items-center p-3 rounded-lg hover:bg-gray-800 transition duration-200">
                <i data-lucide="shopping-bag" class="w-5 h-5 mr-3 text-green-400"></i>
                <span class="font-medium">Shop All Components</span>
            </a>
            
            <!-- PC Builder Tool -->
            <button id="drawer-builder-button" class="flex items-center p-3 w-full text-left rounded-lg bg-green-900/30 hover:bg-green-900/50 transition duration-200">
                <i data-lucide="wrench" class="w-5 h-5 mr-3 text-green-400"></i>
                <span class="font-medium neon-text">PC Builder Tool</span>
            </button>
            
            <div class="border-t border-gray-800 my-4"></div>
            
            <!-- Deals -->
            <a href="#" class="flex items-center p-3 rounded-lg hover:bg-gray-800 transition duration-200">
                <i data-lucide="percent" class="w-5 h-5 mr-3 text-yellow-400"></i>
                <span class="font-medium">Deals & Specials</span>
            </a>

        </nav>
    </div>

    <!-- Drawer Backdrop (for dark overlay) -->
    <div id="menu-backdrop" class="fixed inset-0 bg-black/50 z-[90] opacity-0 pointer-events-none transition-opacity duration-300"></div>

    <!-- Header & Navigation -->
    <header id="main-header" class="sticky top-0 z-50 bg-gray-900/95 backdrop-blur-sm shadow-xl">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            
            <!-- START: Menu Button & Logo Group -->
            <div class="flex items-center space-x-2">
                <!-- Hamburger Menu Button (Visible on Mobile/Small Screens) -->
                <button id="menu-button" class="p-2 rounded-full hover:bg-gray-800 transition duration-200 lg:hidden">
                    <i data-lucide="menu" class="w-6 h-6 text-gray-300 hover:text-green-400"></i>
                </button>
                
                <!-- Logo/Brand -->
                <a href="#" id="home-button" class="text-3xl font-extrabold tracking-tight neon-text">
                    Quantum<span class="text-gray-200">Build</span>
                </a>
            </div>
            <!-- END: Menu Button & Logo Group -->

            <!-- Search Bar (Hidden on Mobile) -->
            <div class="hidden md:flex flex-grow max-w-lg mx-8">
                <div class="relative w-full">
                    <input type="text" placeholder="Search components (RTX, Ryzen 7, DDR5...)"
                           class="w-full py-2 pl-4 pr-10 rounded-full bg-gray-800 border border-gray-700 focus:outline-none focus:border-green-400 text-sm placeholder-gray-500">
                    <button class="absolute right-0 top-0 mt-2 mr-3 text-gray-400 hover:text-green-400">
                        <i data-lucide="search" class="w-5 h-5"></i>
                    </button>
                </div>
            </div>

            <!-- Nav Icons/Links -->
            <nav class="flex items-center space-x-4">
                <a href="#categories" class="text-sm font-medium hover:text-green-400 hidden lg:block transition duration-200">Components</a>
                <a href="#" class="text-sm font-medium hover:text-green-400 hidden lg:block transition duration-200">Deals</a>
                
                <!-- PC Builder Link -->
                <button id="header-builder-button" class="inline-flex items-center px-4 py-2 border border-green-400 text-sm font-semibold rounded-lg neon-button">
                    <i data-lucide="wrench" class="w-4 h-4 mr-2"></i>
                    PC Builder
                </button>
                
                <!-- Cart Icon -->
                <button class="relative p-2 rounded-full hover:bg-gray-800 transition duration-200 group">
                    <i data-lucide="shopping-cart" class="w-6 h-6 text-gray-300 group-hover:text-green-400"></i>
                    <span id="cart-count" class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-gray-900 transform translate-x-1/2 -translate-y-1/2 bg-green-400 rounded-full">3</span>
                </button>
            </nav>
        </div>
    </header>

    <main class="min-h-screen">
        
        <!-- MARKETING CONTENT (Visible by default) -->
        <div id="marketing-content">
            <!-- Hero Section -->
            <section class="relative h-[60vh] md:h-[80vh] flex items-center bg-cover bg-center" style="background-image: url('https://placehold.co/1920x800/1f2937/4ade80?text=The+Future+of+Custom+PCs');">
                <!-- Overlay for better text readability -->
                <div class="absolute inset-0 bg-gray-900/60 backdrop-blur-sm"></div>

                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center">
                    <h1 class="text-5xl sm:text-7xl font-extrabold leading-tight tracking-tighter mb-4">
                        Unleash Your <span class="neon-text">Ultimate Build</span>
                    </h1>
                    <p class="text-xl text-gray-300 mb-8 max-w-3xl mx-auto">
                        The highest performance CPUs, GPUs, and storage, meticulously curated for your next machine.
                    </p>
                    <div class="space-x-4">
                        <a href="#featured-products" class="inline-flex items-center px-8 py-4 text-lg font-bold rounded-xl bg-green-500 hover:bg-green-400 text-gray-900 neon-button shadow-lg">
                            Shop Now
                        </a>
                        <button id="hero-builder-button" class="inline-flex items-center px-8 py-4 text-lg font-bold rounded-xl border border-gray-500 hover:border-green-400 text-gray-200 hover:text-green-400 transition duration-300">
                            Start Building
                        </button>
                    </div>
                </div>
            </section>

            <!-- Featured Categories -->
            <section id="categories" class="py-16 bg-gray-900">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <h2 class="text-4xl font-extrabold text-center mb-12">
                        Shop By <span class="neon-text">Component</span>
                    </h2>
                    
                    <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6">
                        <!-- Category Card -->
                        <a href="#" class="group block p-6 bg-gray-800 rounded-xl shadow-2xl hover:bg-gray-700 transition duration-300 transform hover:-translate-y-1">
                            <div class="flex flex-col items-center">
                                <i data-lucide="cpu" class="w-12 h-12 text-green-400 group-hover:text-green-300 mb-3 transition duration-300"></i>
                                <h3 class="text-lg font-semibold text-gray-100">CPUs</h3>
                                <p class="text-xs text-gray-400 mt-1">Processors</p>
                            </div>
                        </a>
                        
                        <a href="#" class="group block p-6 bg-gray-800 rounded-xl shadow-2xl hover:bg-gray-700 transition duration-300 transform hover:-translate-y-1">
                            <div class="flex flex-col items-center">
                                <i data-lucide="hard-drive" class="w-12 h-12 text-green-400 group-hover:text-green-300 mb-3 transition duration-300"></i>
                                <h3 class="text-lg font-semibold text-gray-100">GPUs</h3>
                                <p class="text-xs text-gray-400 mt-1">Graphics Cards</p>
                            </div>
                        </a>

                        <a href="#" class="group block p-6 bg-gray-800 rounded-xl shadow-2xl hover:bg-gray-700 transition duration-300 transform hover:-translate-y-1">
                            <div class="flex flex-col items-center">
                                <i data-lucide="chip" class="w-12 h-12 text-green-400 group-hover:text-green-300 mb-3 transition duration-300"></i>
                                <h3 class="text-lg font-semibold text-gray-100">RAM</h3>
                                <p class="text-xs text-gray-400 mt-1">Memory</p>
                            </div>
                        </a>
                        
                        <a href="#" class="group block p-6 bg-gray-800 rounded-xl shadow-2xl hover:bg-gray-700 transition duration-300 transform hover:-translate-y-1">
                            <div class="flex flex-col items-center">
                                <i data-lucide="server" class="w-12 h-12 text-green-400 group-hover:text-green-300 mb-3 transition duration-300"></i>
                                <h3 class="text-lg font-semibold text-gray-100">Motherboards</h3>
                                <p class="text-xs text-gray-400 mt-1">Main Boards</p>
                            </div>
                        </a>

                        <a href="#" class="group block p-6 bg-gray-800 rounded-xl shadow-2xl hover:bg-gray-700 transition duration-300 transform hover:-translate-y-1 hidden lg:block">
                            <div class="flex flex-col items-center">
                                <i data-lucide="disc-3" class="w-12 h-12 text-green-400 group-hover:text-green-300 mb-3 transition duration-300"></i>
                                <h3 class="text-lg font-semibold text-gray-100">Storage</h3>
                                <p class="text-xs text-gray-400 mt-1">SSDs & HDDs</p>
                            </div>
                        </a>

                        <a href="#" class="group block p-6 bg-gray-800 rounded-xl shadow-2xl hover:bg-gray-700 transition duration-300 transform hover:-translate-y-1 hidden lg:block">
                            <div class="flex flex-col items-center">
                                <i data-lucide="battery-charging" class="w-12 h-12 text-green-400 group-hover:text-green-300 mb-3 transition duration-300"></i>
                                <h3 class="text-lg font-semibold text-gray-100">PSUs</h3>
                                <p class="text-xs text-gray-400 mt-1">Power Supplies</p>
                            </div>
                        </a>
                    </div>
                </div>
            </section>

            <!-- Featured Products / Best Sellers -->
            <section id="featured-products" class="py-16 bg-gray-800">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <h2 class="text-4xl font-extrabold text-center mb-12">
                        <span class="neon-text">Best Sellers</span> This Week
                    </h2>

                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                        <!-- Product Card 1: GPU -->
                        <div class="bg-gray-900 rounded-xl overflow-hidden shadow-2xl border border-gray-700 hover:border-green-500 transition duration-300 group">
                            <div class="p-4 bg-gray-800/50">
                                <!-- Placeholder Image -->
                                <img src="https://placehold.co/600x400/171717/4ade80?text=RTX+4090" alt="NVIDIA GeForce RTX 4090" class="w-full h-48 object-contain rounded-lg transition duration-500 group-hover:scale-105" onerror="this.onerror=null;this.src='https://placehold.co/600x400/171717/4ade80?text=GPU';" />
                            </div>
                            <div class="p-6">
                                <span class="inline-block bg-green-400/20 text-green-400 text-xs font-semibold px-2 py-1 rounded-full mb-2">GPU</span>
                                <h3 class="text-xl font-bold mb-2 text-gray-100">NVIDIA GeForce RTX 4090</h3>
                                <p class="text-lg font-extrabold neon-text mb-4">$1,599.00</p>
                                <button class="w-full py-2 bg-green-500 text-gray-900 font-semibold rounded-lg hover:bg-green-400 transition duration-300 neon-button">
                                    Add to Cart
                                </button>
                            </div>
                        </div>

                        <!-- Product Card 2: CPU -->
                        <div class="bg-gray-900 rounded-xl overflow-hidden shadow-2xl border border-gray-700 hover:border-green-500 transition duration-300 group">
                            <div class="p-4 bg-gray-800/50">
                                <!-- Placeholder Image -->
                                <img src="https://placehold.co/600x400/171717/4ade80?text=i9-14900K" alt="Intel Core i9-14900K" class="w-full h-48 object-contain rounded-lg transition duration-500 group-hover:scale-105" onerror="this.onerror=null;this.src='https://placehold.co/600x400/171717/4ade80?text=CPU';" />
                            </div>
                            <div class="p-6">
                                <span class="inline-block bg-blue-400/20 text-blue-400 text-xs font-semibold px-2 py-1 rounded-full mb-2">CPU</span>
                                <h3 class="text-xl font-bold mb-2 text-gray-100">Intel Core i9-14900K</h3>
                                <p class="text-lg font-extrabold neon-text mb-4">$559.00</p>
                                <button class="w-full py-2 bg-green-500 text-gray-900 font-semibold rounded-lg hover:bg-green-400 transition duration-300 neon-button">
                                    Add to Cart
                                </button>
                            </div>
                        </div>
                        
                        <!-- Product Card 3: RAM -->
                        <div class="bg-gray-900 rounded-xl overflow-hidden shadow-2xl border border-gray-700 hover:border-green-500 transition duration-300 group">
                            <div class="p-4 bg-gray-800/50">
                                <!-- Placeholder Image -->
                                <img src="https://placehold.co/600x400/171717/4ade80?text=DDR5+Kit" alt="Corsair Vengeance DDR5 Kit" class="w-full h-48 object-contain rounded-lg transition duration-500 group-hover:scale-105" onerror="this.onerror=null;this.src='https://placehold.co/600x400/171717/4ade80?text=RAM';" />
                            </div>
                            <div class="p-6">
                                <span class="inline-block bg-purple-400/20 text-purple-400 text-xs font-semibold px-2 py-1 rounded-full mb-2">RAM</span>
                                <h3 class="text-xl font-bold mb-2 text-gray-100">Corsair Vengeance 32GB</h3>
                                <p class="text-lg font-extrabold neon-text mb-4">$119.99</p>
                                <button class="w-full py-2 bg-green-500 text-gray-900 font-semibold rounded-lg hover:bg-green-400 transition duration-300 neon-button">
                                    Add to Cart
                                </button>
                            </div>
                        </div>

                        <!-- Product Card 4: SSD -->
                        <div class="bg-gray-900 rounded-xl overflow-hidden shadow-2xl border border-gray-700 hover:border-green-500 transition duration-300 group">
                            <div class="p-4 bg-gray-800/50">
                                <!-- Placeholder Image -->
                                <img src="https://placehold.co/600x400/171717/4ade80?text=M.2+SSD" alt="Samsung 990 Pro 2TB SSD" class="w-full h-48 object-contain rounded-lg transition duration-500 group-hover:scale-105" onerror="this.onerror=null;this.src='https://placehold.co/600x400/171717/4ade80?text=SSD';" />
                            </div>
                            <div class="p-6">
                                <span class="inline-block bg-red-400/20 text-red-400 text-xs font-semibold px-2 py-1 rounded-full mb-2">Storage</span>
                                <h3 class="text-xl font-bold mb-2 text-gray-100">Samsung 990 Pro 2TB SSD</h3>
                                <p class="text-lg font-extrabold neon-text mb-4">$179.99</p>
                                <button class="w-full py-2 bg-green-500 text-gray-900 font-semibold rounded-lg hover:bg-green-400 transition duration-300 neon-button">
                                    Add to Cart
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
            </section>

            <!-- PC Builder Call to Action -->
            <section id="builder-cta" class="py-20 bg-gray-900">
                <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center bg-gray-800 rounded-3xl p-10 shadow-3xl border-4 border-green-500/20">
                    <div class="flex items-center justify-center mb-6">
                        <i data-lucide="constructor" class="w-12 h-12 text-green-400 mr-4"></i>
                        <h2 class="text-4xl font-extrabold tracking-tight">
                            Don't Know Where to Start?
                        </h2>
                    </div>
                    <p class="text-lg text-gray-300 mb-8">
                        Use our award-winning PC Builder tool to check compatibility, balance components, and build your dream rig, stress-free.
                    </p>
                    <button id="cta-builder-button" class="inline-flex items-center px-10 py-4 text-xl font-bold rounded-2xl bg-green-500 hover:bg-green-400 text-gray-900 neon-button shadow-2xl">
                        <i data-lucide="hammer" class="w-6 h-6 mr-3"></i>
                        Go to PC Builder
                    </button>
                </div>
            </section>

        </div>
        
        <!-- PC BUILDER APPLICATION CONTENT (Hidden by default) -->
        <section id="builder-content" class="min-h-[80vh] py-10 px-4 sm:px-6 lg:px-8 hidden">
            <h1 class="text-5xl font-extrabold tracking-tight text-center mb-4">
                The <span class="neon-text">PC Builder</span>
            </h1>
            <p class="text-center text-gray-400 mb-10">Select components below. Compatibility is checked in real-time!</p>
            
            <div class="lg:grid lg:grid-cols-3 gap-8 max-w-7xl mx-auto">
                
                <!-- Component Selection Panel (Left 2/3) -->
                <div class="lg:col-span-2 space-y-8">
                    <!-- Component Category Loop -->
                    <div id="component-selection">
                        <!-- Component sections will be injected here by JavaScript -->
                    </div>
                </div>

                <!-- Summary Panel (Right 1/3) -->
                <div class="lg:col-span-1 sticky top-24 h-fit mt-10 lg:mt-0">
                    <div id="summary-card" class="bg-gray-800 rounded-xl p-6 shadow-2xl border-4 border-gray-700">
                        <h2 class="text-2xl font-bold mb-4 neon-text">Build Summary</h2>
                        
                        <!-- Compatibility Status -->
                        <div id="compatibility-status" class="p-3 mb-4 rounded-lg text-center font-bold text-sm transition duration-300 border border-transparent">
                            <!-- Status Message injected here -->
                        </div>

                        <!-- Component List -->
                        <div id="summary-list" class="space-y-4">
                            <!-- Selected components injected here by JavaScript -->
                        </div>

                        <div class="border-t border-gray-700 mt-6 pt-4 flex justify-between items-center">
                            <span class="text-xl font-bold">Estimated Total:</span>
                            <span id="total-price" class="text-3xl font-extrabold neon-text">$0.00</span>
                        </div>
                        
                        <button class="w-full py-3 mt-6 text-lg font-bold rounded-lg bg-green-600 text-gray-900 hover:bg-green-500 transition duration-300 neon-button">
                            Add Build to Cart
                        </button>
                    </div>
                </div>

            </div>
        </section>
        
    </main>

    <!-- Footer -->
    <footer id="main-footer" class="bg-gray-950 py-10 border-t border-gray-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-8">
                <div>
                    <h4 class="text-lg font-bold mb-4 neon-text">Shop</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-green-400 transition">Processors</a></li>
                        <li><a href="#" class="hover:text-green-400 transition">Graphics Cards</a></li>
                        <li><a href="#" class="hover:text-green-400 transition">Memory</a></li>
                        <li><a href="#" class="hover:text-green-400 transition">Peripherals</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-bold mb-4 neon-text">Information</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-green-400 transition">About Us</a></li>
                        <li><a href="#" class="hover:text-green-400 transition">Shipping & Returns</a></li>
                        <li><a href="#" class="hover:text-green-400 transition">Privacy Policy</a></li>
                        <li><a href="#" class="hover:text-green-400 transition">Terms of Service</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-bold mb-4 neon-text">Support</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-green-400 transition">Contact Us</a></li>
                        <li><a href="#" class="hover:text-green-400 transition">FAQ</a></li>
                        <li><a href="#" class="hover:text-green-400 transition">Compatibility Guide</a></li>
                    </ul>
                </div>
                <div class="col-span-2 md:col-span-1">
                    <h4 class="text-lg font-bold mb-4 neon-text">Connect</h4>
                    <div class="flex space-x-4">
                        <a href="#" aria-label="Discord" class="text-gray-400 hover:text-green-400"><i data-lucide="message-square" class="w-6 h-6"></i></a>
                        <a href="#" aria-label="Twitter" class="text-gray-400 hover:text-green-400"><i data-lucide="twitter" class="w-6 h-6"></i></a>
                        <a href="#" aria-label="Instagram" class="text-gray-400 hover:text-green-400"><i data-lucide="instagram" class="w-6 h-6"></i></a>
                    </div>
                </div>
            </div>

            <div class="text-center pt-8 border-t border-gray-800">
                <p class="text-sm text-gray-500">&copy; 2025 Quantum Build. All Rights Reserved. | Designed with <span class="neon-text">Performance</span> in mind.</p>
            </div>
        </div>
    </footer>

    <!-- Script to initialize Lucide Icons and handle menu logic -->
    <script>
        // --- DATA STRUCTURE ---
        const ALL_COMPONENTS = [
            // CPUs
            { id: 'cpu-1', category: 'CPU', name: 'Ryzen 7 7800X3D', price: 350, socket: 'AM5', ramType: 'DDR5' },
            { id: 'cpu-2', category: 'CPU', name: 'Intel Core i9-14900K', price: 550, socket: 'LGA 1700', ramType: 'DDR5' },
            { id: 'cpu-3', category: 'CPU', name: 'Ryzen 5 7600', price: 200, socket: 'AM5', ramType: 'DDR5' },

            // Motherboards
            { id: 'mobo-1', category: 'Motherboard', name: 'Gigabyte X670E AORUS', price: 300, socket: 'AM5', ramType: 'DDR5' },
            { id: 'mobo-2', category: 'Motherboard', name: 'ASUS ROG Z790', price: 400, socket: 'LGA 1700', ramType: 'DDR5' },
            { id: 'mobo-3', category: 'Motherboard', name: 'ASUS Prime Z690-P', price: 180, socket: 'LGA 1700', ramType: 'DDR4' },

            // RAM
            { id: 'ram-1', category: 'RAM', name: 'Corsair Vengeance 32GB (2x16GB) DDR5', price: 120, ramType: 'DDR5' },
            { id: 'ram-2', category: 'RAM', name: 'G.SKILL Trident Z 32GB (2x16GB) DDR4', price: 90, ramType: 'DDR4' },
            { id: 'ram-3', category: 'RAM', name: 'Crucial Pro 64GB (2x32GB) DDR5', price: 220, ramType: 'DDR5' },

            // GPUs
            { id: 'gpu-1', category: 'GPU', name: 'NVIDIA GeForce RTX 4080 Super', price: 1000, power: 320 },
            { id: 'gpu-2', category: 'GPU', name: 'AMD Radeon RX 7900 XTX', price: 900, power: 355 },
            { id: 'gpu-3', category: 'GPU', name: 'NVIDIA GeForce RTX 4070', price: 550, power: 200 },
            
            // PSUs (Power Supply Unit)
            { id: 'psu-1', category: 'PSU', name: 'Corsair RM1000e 1000W', price: 150, wattage: 1000 },
            { id: 'psu-2', category: 'PSU', name: 'EVGA SuperNova 750W', price: 100, wattage: 750 },
            { id: 'psu-3', category: 'PSU', name: 'Seasonic FOCUS GX-850', price: 130, wattage: 850 },
            
            // Storage (Simple list, no complex compatibility)
            { id: 'ssd-1', category: 'Storage', name: 'Samsung 990 Pro 2TB NVMe SSD', price: 179 },
            { id: 'ssd-2', category: 'Storage', name: 'Crucial P5 Plus 1TB NVMe SSD', price: 80 },
        ];

        const COMPONENT_CATEGORIES = [
            { name: 'CPU', icon: 'cpu' },
            { name: 'Motherboard', icon: 'server' },
            { name: 'RAM', icon: 'chip' },
            { name: 'GPU', icon: 'hard-drive' },
            { name: 'Storage', icon: 'disc-3' },
            { name: 'PSU', icon: 'battery-charging' }
        ];

        // --- STATE MANAGEMENT ---
        let selectedBuild = {};
        
        // --- DOM ELEMENTS ---
        const menuDrawer = document.getElementById('menu-drawer');
        const menuBackdrop = document.getElementById('menu-backdrop');
        const menuButton = document.getElementById('menu-button');
        const closeButton = document.getElementById('close-menu-button');

        const marketingContent = document.getElementById('marketing-content');
        const builderContent = document.getElementById('builder-content');

        const builderButtons = [
            document.getElementById('header-builder-button'),
            document.getElementById('hero-builder-button'),
            document.getElementById('cta-builder-button'),
            document.getElementById('drawer-builder-button')
        ].filter(Boolean); // Filter out nulls if elements are not found

        const homeButton = document.getElementById('home-button');

        const componentSelectionEl = document.getElementById('component-selection');
        const summaryListEl = document.getElementById('summary-list');
        const totalPriceEl = document.getElementById('total-price');
        const compatibilityStatusEl = document.getElementById('compatibility-status');


        // --- APPLICATION LOGIC ---

        function toggleMenu() {
            const isHidden = menuDrawer.classList.contains('-translate-x-full');
            
            if (isHidden) {
                menuDrawer.classList.remove('-translate-x-full');
                menuDrawer.classList.add('translate-x-0');
                menuBackdrop.classList.remove('opacity-0', 'pointer-events-none');
                menuBackdrop.classList.add('opacity-100');
                document.body.style.overflow = 'hidden'; 
            } else {
                menuDrawer.classList.remove('translate-x-0');
                menuDrawer.classList.add('-translate-x-full');
                menuBackdrop.classList.remove('opacity-100');
                menuBackdrop.classList.add('opacity-0', 'pointer-events-none');
                document.body.style.overflow = ''; 
            }
        }

        function navigateTo(target) {
            if (target === 'builder') {
                marketingContent.classList.add('hidden');
                builderContent.classList.remove('hidden');
                window.scrollTo(0, 0); // Scroll to top of builder page
                // Hide the drawer if open
                if (!menuDrawer.classList.contains('-translate-x-full')) {
                    toggleMenu();
                }
            } else { // 'home'
                marketingContent.classList.remove('hidden');
                builderContent.classList.add('hidden');
                window.scrollTo(0, 0); 
            }
            updateSummary(); // Ensure summary is updated when navigating to builder
        }

        function handleComponentSelection(componentId) {
            const component = ALL_COMPONENTS.find(c => c.id === componentId);
            if (!component) return;

            // Store the component in the build state
            selectedBuild[component.category] = component;

            // Visual update for selection
            document.querySelectorAll(`[data-category="${component.category}"]`).forEach(el => {
                el.classList.remove('selected-component');
            });
            document.getElementById(`component-card-${componentId}`).classList.add('selected-component');

            updateSummary();
        }

        function checkCompatibility() {
            let errors = [];
            const cpu = selectedBuild['CPU'];
            const mobo = selectedBuild['Motherboard'];
            const ram = selectedBuild['RAM'];
            const psu = selectedBuild['PSU'];
            const gpu = selectedBuild['GPU'];

            // 1. CPU <-> Motherboard Socket Check
            if (cpu && mobo) {
                if (cpu.socket !== mobo.socket) {
                    errors.push(`CPU Socket mismatch! ${cpu.name} uses ${cpu.socket}, but ${mobo.name} uses ${mobo.socket}.`);
                }
            } else if (cpu && !mobo) {
                errors.push('Select a Motherboard to check CPU compatibility.');
            } else if (!cpu && mobo) {
                errors.push('Select a CPU to check Motherboard compatibility.');
            }

            // 2. RAM <-> Motherboard Type Check
            if (ram && mobo) {
                if (ram.ramType !== mobo.ramType) {
                    errors.push(`RAM Type mismatch! ${ram.name} is ${ram.ramType}, but ${mobo.name} only supports ${mobo.ramType}.`);
                }
            } else if (ram && !mobo) {
                errors.push('Select a Motherboard to check RAM compatibility.');
            } else if (!ram && mobo) {
                 // No error here, RAM is optional for a preliminary check
            }

            // 3. PSU Wattage Check (Simple check: Recommended 150W overhead)
            if (psu && gpu) {
                const requiredWattage = (cpu?.power || 0) + gpu.power + 150; // 150W for other components/overhead
                if (psu.wattage < requiredWattage) {
                    errors.push(`PSU Power Warning: Your ${psu.name} (${psu.wattage}W) may be insufficient. Recommended minimum is ${requiredWattage}W.`);
                }
            } else if (gpu && !psu) {
                 errors.push('Select a PSU to ensure your GPU has enough power.');
            }
            
            return errors;
        }

        function updateSummary() {
            const errors = checkCompatibility();
            let totalPrice = 0;
            let summaryHtml = '';

            // Update Summary List and Calculate Total Price
            COMPONENT_CATEGORIES.forEach(category => {
                const item = selectedBuild[category.name];
                const price = item ? item.price : 0;
                totalPrice += price;

                summaryHtml += `
                    <div class="flex justify-between items-center text-sm ${item ? 'text-gray-200' : 'text-gray-500'}">
                        <span class="font-medium">${category.name}:</span>
                        <span class="truncate ml-2">${item ? item.name : 'Not Selected'}</span>
                        <span class="font-bold ml-2">${item ? '$' + price.toFixed(2) : ''}</span>
                    </div>
                `;
            });

            summaryListEl.innerHTML = summaryHtml;
            totalPriceEl.textContent = '$' + totalPrice.toFixed(2);

            // Update Compatibility Status
            const statusClasses = ['px-4', 'py-2', 'rounded-lg', 'text-center', 'font-bold', 'text-sm'];
            
            // Clear previous status
            compatibilityStatusEl.className = 'p-3 mb-4 rounded-lg text-center font-bold text-sm transition duration-300 border border-transparent';
            compatibilityStatusEl.classList.remove('bg-red-900/30', 'text-red-400', 'compatibility-alert', 'bg-green-900/30', 'text-green-400', 'compatibility-ok');

            if (errors.length > 0) {
                // Show Errors
                compatibilityStatusEl.classList.add('bg-red-900/30', 'text-red-400', 'compatibility-alert', 'border-red-400');
                compatibilityStatusEl.innerHTML = `
                    <span class="flex items-center justify-center mb-2"><i data-lucide="alert-triangle" class="w-5 h-5 mr-2"></i> COMPATIBILITY ERROR</span>
                    <ul class="text-xs text-left list-disc list-inside space-y-1 mt-2">
                        ${errors.map(err => `<li>${err}</li>`).join('')}
                    </ul>
                `;
            } else if (Object.keys(selectedBuild).length >= COMPONENT_CATEGORIES.length) {
                // All major components selected and compatible
                 compatibilityStatusEl.classList.add('bg-green-900/30', 'text-green-400', 'compatibility-ok', 'border-green-400');
                compatibilityStatusEl.innerHTML = '<span class="flex items-center justify-center"><i data-lucide="check-circle" class="w-5 h-5 mr-2"></i> PERFECTLY COMPATIBLE!</span>';
            } else {
                // Still building
                compatibilityStatusEl.classList.add('bg-gray-700', 'text-gray-300', 'border-gray-500');
                const missingCount = COMPONENT_CATEGORIES.length - Object.keys(selectedBuild).length;
                compatibilityStatusEl.innerHTML = `<span class="flex items-center justify-center"><i data-lucide="loader" class="w-5 h-5 mr-2 animate-spin"></i> ${missingCount} Component${missingCount !== 1 ? 's' : ''} Remaining...</span>`;
            }

            // Re-create icons for the status message
            lucide.createIcons();
        }

        function renderComponentSections() {
            let sectionsHtml = '';
            
            COMPONENT_CATEGORIES.forEach(category => {
                const components = ALL_COMPONENTS.filter(c => c.category === category.name);
                const currentSelection = selectedBuild[category.name];
                
                sectionsHtml += `
                    <div class="bg-gray-800 rounded-xl p-6 shadow-xl border border-gray-700">
                        <h2 class="text-3xl font-bold mb-4 flex items-center">
                            <i data-lucide="${category.icon}" class="w-7 h-7 mr-3 text-green-400"></i>
                            ${category.name}
                        </h2>
                        <div class="text-sm text-gray-400 mb-4">
                            ${currentSelection ? 
                                `<span class="text-green-400 font-semibold">${currentSelection.name} Selected</span>` : 
                                `Required. Click to select a ${category.name}.`
                            }
                        </div>
                        
                        <div class="space-y-3">
                            ${components.map(comp => `
                                <div id="component-card-${comp.id}" 
                                     data-category="${comp.category}"
                                     class="flex justify-between items-center p-4 bg-gray-900 rounded-lg hover:bg-gray-700 cursor-pointer transition duration-200 border border-gray-800"
                                     onclick="handleComponentSelection('${comp.id}')">
                                    
                                    <div class="flex-grow">
                                        <p class="font-semibold text-gray-100">${comp.name}</p>
                                        ${comp.socket ? `<span class="text-xs text-gray-500 mr-2">Socket: ${comp.socket}</span>` : ''}
                                        ${comp.ramType ? `<span class="text-xs text-gray-500 mr-2">RAM: ${comp.ramType}</span>` : ''}
                                        ${comp.power ? `<span class="text-xs text-gray-500 mr-2">TDP: ${comp.power}W</span>` : ''}
                                    </div>
                                    <span class="text-lg font-extrabold neon-text">$${comp.price.toFixed(2)}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });

            componentSelectionEl.innerHTML = sectionsHtml;
            // Mark the currently selected components visually after rendering
            Object.values(selectedBuild).forEach(comp => {
                document.getElementById(`component-card-${comp.id}`).classList.add('selected-component');
            });

            // Re-create icons inside the newly rendered sections
            lucide.createIcons();
        }


        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            // Setup navigation listeners
            builderButtons.forEach(button => {
                button.addEventListener('click', () => navigateTo('builder'));
            });

            homeButton.addEventListener('click', (e) => {
                e.preventDefault();
                navigateTo('home');
            });

            // Setup menu listeners
            menuButton.addEventListener('click', toggleMenu);
            closeButton.addEventListener('click', toggleMenu);
            menuBackdrop.addEventListener('click', toggleMenu); 

            document.querySelectorAll('#menu-drawer a').forEach(link => {
                link.addEventListener('click', () => {
                    setTimeout(toggleMenu, 150); 
                });
            });

            // Initialize the builder and icons
            renderComponentSections();
            updateSummary();
            lucide.createIcons();
        });
    </script>
</body>
</html>
